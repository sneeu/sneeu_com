{% extends "base.html" %}


{% load iso typogrify %}


{% block extrahead %}
	<link href="/blog/feed/" rel="alternate" type="application/rss+xml" title="Feed" />

	{% if page.has_previous %}<link href="{% ifequal page.previous_page_number 1 %}.{% else %}?page={{ page.previous_page_number }}{% endifequal %}" rel="prev" />{% endif %}
	{% if page.has_next %}<link href="?page={{ page.next_page_number }}" rel="next" />{% endif %}
{% endblock %}


{% block content %}

	<ol class="hfeed">
		{% for post in page.object_list %}
			<li class="hentry blogpost">
				<h2><a class="entry-title" rel="bookmark" href="{{ post.get_absolute_url }}">{{ post.headline|typogrify|safe }}</a></h2>
				<p class="meta"><abbr class="published updated" title="{{ post.created|iso8601 }}">{{ post.created|date:"d/N/Y" }}</abbr></p>
				<div class="entry-content">
					{% if post.standfirst %}
						<p class="standfirst">{{ post.standfirst|safe }} <a href="{{ post.get_absolute_url }}">Read more &hellip;</a></p>
					{% else %}
						{{ post.copy|typogrify|safe }}
					{% endif %}
				</div>
				<p class="author vcard"><a href="{% url apps.core.views.john %}" class="url"><abbr class="fn" title="John Sutherland">John</abbr></a></p>
			</li>
		{% endfor %}
	</ol>

	{% if page.has_next or page.has_previous %}
		<p class="paginator">
			{% if page.has_previous %}<a class="previous" href="{% ifequal page.previous_page_number 1 %}.{% else %}?page={{ page.previous_page_number }}{% endifequal %}" rel="prev" title="Newer">&larr;</a>{% endif %}
			{% if page.has_next %}<a class="next" href="?page={{ page.next_page_number }}" rel="next" title="Older">&rarr;</a>{% endif %}
		</p>
	{% endif %}

{% endblock %}